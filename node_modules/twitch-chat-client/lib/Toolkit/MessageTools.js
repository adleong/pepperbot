"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseTwitchMessage = void 0;
var ircv3_1 = require("ircv3");
var ClearChat_1 = require("../Capabilities/TwitchCommandsCapability/MessageTypes/ClearChat");
var HostTarget_1 = require("../Capabilities/TwitchCommandsCapability/MessageTypes/HostTarget");
var Reconnect_1 = require("../Capabilities/TwitchCommandsCapability/MessageTypes/Reconnect");
var RoomState_1 = require("../Capabilities/TwitchCommandsCapability/MessageTypes/RoomState");
var UserNotice_1 = require("../Capabilities/TwitchCommandsCapability/MessageTypes/UserNotice");
var UserState_1 = require("../Capabilities/TwitchCommandsCapability/MessageTypes/UserState");
var Whisper_1 = require("../Capabilities/TwitchCommandsCapability/MessageTypes/Whisper");
var ClearMsg_1 = require("../Capabilities/TwitchTagsCapability/MessageTypes/ClearMsg");
var GlobalUserState_1 = require("../Capabilities/TwitchTagsCapability/MessageTypes/GlobalUserState");
var TwitchPrivateMessage_1 = require("../StandardCommands/TwitchPrivateMessage");
var twitchMessageTypes = new Map([
    // standard types used by Twitch
    ['PRIVMSG', TwitchPrivateMessage_1.TwitchPrivateMessage],
    ['NOTICE', ircv3_1.MessageTypes.Commands.Notice],
    ['PING', ircv3_1.MessageTypes.Commands.Ping],
    ['PONG', ircv3_1.MessageTypes.Commands.Pong],
    ['JOIN', ircv3_1.MessageTypes.Commands.ChannelJoin],
    ['PART', ircv3_1.MessageTypes.Commands.ChannelPart],
    ['NICK', ircv3_1.MessageTypes.Commands.NickChange],
    ['PASS', ircv3_1.MessageTypes.Commands.Password],
    ['CAP', ircv3_1.MessageTypes.Commands.CapabilityNegotiation],
    ['001', ircv3_1.MessageTypes.Numerics.Reply001Welcome],
    ['002', ircv3_1.MessageTypes.Numerics.Reply002YourHost],
    ['003', ircv3_1.MessageTypes.Numerics.Reply003Created],
    // 004 intentionally left out because not standards-conforming
    ['353', ircv3_1.MessageTypes.Numerics.Reply353NamesReply],
    ['366', ircv3_1.MessageTypes.Numerics.Reply366EndOfNames],
    ['372', ircv3_1.MessageTypes.Numerics.Reply372Motd],
    ['375', ircv3_1.MessageTypes.Numerics.Reply375MotdStart],
    ['376', ircv3_1.MessageTypes.Numerics.Reply376EndOfMotd],
    // Twitch extensions
    ['HOSTTARGET', HostTarget_1.HostTarget],
    ['CLEARCHAT', ClearChat_1.ClearChat],
    ['USERSTATE', UserState_1.UserState],
    ['GLOBALUSERSTATE', GlobalUserState_1.GlobalUserState],
    ['WHISPER', Whisper_1.Whisper],
    ['ROOMSTATE', RoomState_1.RoomState],
    ['RECONNECT', Reconnect_1.Reconnect],
    ['USERNOTICE', UserNotice_1.UserNotice],
    ['CLEARMSG', ClearMsg_1.ClearMsg]
]);
function parseTwitchMessage(rawLine) {
    return ircv3_1.parseMessage(rawLine, undefined, twitchMessageTypes, true);
}
exports.parseTwitchMessage = parseTwitchMessage;
